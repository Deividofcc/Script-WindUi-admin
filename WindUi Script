local WindUI = loadstring(game:HttpGet(
    "https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"
))()

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local SelectedPlayer
local SpeedValue = 16
local SpeedLoop = false
local Noclip = false
local Fly = false
local BV, BG

-- Funções básicas
local function getChar()
    return LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
end

local function getHumanoid()
    return getChar():WaitForChild("Humanoid")
end

local function getHRP()
    return getChar():WaitForChild("HumanoidRootPart")
end

local function getPlayers()
    local list = {}
    for _, p in pairs(Players:GetPlayers()) do
        table.insert(list, p.Name)
    end
    return list
end

-- Speed fix
task.spawn(function()
    while task.wait(0.2) do
        if SpeedLoop then
            pcall(function()
                getHumanoid().WalkSpeed = SpeedValue
            end)
        end
    end
end)

-- Noclip
RunService.Stepped:Connect(function()
    if Noclip then
        for _, v in pairs(getChar():GetDescendants()) do
            if v:IsA("BasePart") then
                v.CanCollide = false
            end
        end
    end
end)

-- Fly
RunService.RenderStepped:Connect(function()
    if Fly and BV and BG then
        BV.Velocity = workspace.CurrentCamera.CFrame.LookVector * 60
        BG.CFrame = workspace.CurrentCamera.CFrame
    end
end)

-- UI
local Window = WindUI:CreateWindow({
    Title = "Painel Universal",
    Icon = "sparkles",
    Author = "by .deividg04",
    Folder = "UniversalHub",
})

-- ABA PLAYER
local PlayerTab = Window:Tab({
    Title = "Player",
    Icon = "user",
})

PlayerTab:Slider({
    Title = "Speed",
    Min = 16,
    Max = 200,
    Default = 16,
    Callback = function(v)
        SpeedValue = v
        SpeedLoop = true
    end
})

PlayerTab:Slider({
    Title = "Jump",
    Min = 50,
    Max = 200,
    Default = 50,
    Callback = function(v)
        getHumanoid().JumpPower = v
    end
})

PlayerTab:Toggle({
    Title = "Noclip",
    Callback = function(v)
        Noclip = v
    end
})

PlayerTab:Toggle({
    Title = "Fly",
    Callback = function(v)
        Fly = v
        if v then
            BV = Instance.new("BodyVelocity", getHRP())
            BV.MaxForce = Vector3.new(9e9, 9e9, 9e9)

            BG = Instance.new("BodyGyro", getHRP())
            BG.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
        else
            if BV then BV:Destroy() end
            if BG then BG:Destroy() end
        end
    end
})

-- ABA TELEPORT
local TeleportTab = Window:Tab({
    Title = "Teleport",
    Icon = "map-pin",
})

TeleportTab:Dropdown({
    Title = "Selecionar Player",
    Values = getPlayers(),
    Callback = function(v)
        SelectedPlayer = Players:FindFirstChild(v)
    end
})

TeleportTab:Button({
    Title = "Atualizar Lista",
    Callback = function()
        TeleportTab:SetValues(getPlayers())
    end
})

TeleportTab:Button({
    Title = "Teleportar até Player",
    Callback = function()
        if SelectedPlayer then
            getHRP().CFrame =
                SelectedPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -3)
        end
    end
})

TeleportTab:Button({
    Title = "Teleportar para Frente",
    Callback = function()
        getHRP().CFrame += getHRP().CFrame.LookVector * 50
    end
})

TeleportTab:Button({
    Title = "Teleportar para Cima",
    Callback = function()
        getHRP().CFrame += Vector3.new(0, 100, 0)
    end
})
